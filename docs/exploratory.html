<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Exploratory Analysis | REST API for Real Estate rental data, a spatial bayesian modeling approach with INLA.</title>
  <meta name="description" content="Niccolò Salvini master’s thesis project" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Exploratory Analysis | REST API for Real Estate rental data, a spatial bayesian modeling approach with INLA." />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://niccolosalvini.github.io/Thesis/" />
  <meta property="og:image" content="https://niccolosalvini.github.io/Thesis/images/spat-touch.png" />
  <meta property="og:description" content="Niccolò Salvini master’s thesis project" />
  <meta name="github-repo" content="NiccoloSalvini/Thesis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Exploratory Analysis | REST API for Real Estate rental data, a spatial bayesian modeling approach with INLA." />
  
  <meta name="twitter:description" content="Niccolò Salvini master’s thesis project" />
  <meta name="twitter:image" content="https://niccolosalvini.github.io/Thesis/images/spat-touch.png" />

<meta name="author" content="Niccolò Salvini" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/spatial.png" />
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="Infrastructure.html"/>
<link rel="next" href="inla-spde.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171723874-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-171723874-1');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"> REST API for Real Estate rental data, a spatial bayesian modeling approach with INLA.</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="scraping.html"><a href="scraping.html"><i class="fa fa-check"></i><b>2</b> Scraping</a><ul>
<li class="chapter" data-level="2.1" data-path="scraping.html"><a href="scraping.html#what-is-web-scraping"><i class="fa fa-check"></i><b>2.1</b> What is Web Scraping</a><ul>
<li class="chapter" data-level="2.1.1" data-path="scraping.html"><a href="scraping.html#webstructure"><i class="fa fa-check"></i><b>2.1.1</b> Immobiliare.it Webscraping website structure</a></li>
<li class="chapter" data-level="2.1.2" data-path="scraping.html"><a href="scraping.html#immobiliare.it-webscraping-content-architecture-with-rvest"><i class="fa fa-check"></i><b>2.1.2</b> Immobiliare.it Webscraping content architecture with <code>rvest</code></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="scraping.html"><a href="scraping.html#best-practices"><i class="fa fa-check"></i><b>2.2</b> Scraping Best Practices and Robottxt</a></li>
<li class="chapter" data-level="2.3" data-path="scraping.html"><a href="scraping.html#user-agents-proxies-handlers"><i class="fa fa-check"></i><b>2.3</b> User agents, Proxies, Handlers</a><ul>
<li class="chapter" data-level="2.3.1" data-path="scraping.html"><a href="scraping.html#spoofing"><i class="fa fa-check"></i><b>2.3.1</b> User agents Spoofing</a></li>
<li class="chapter" data-level="2.3.2" data-path="scraping.html"><a href="scraping.html#handlers"><i class="fa fa-check"></i><b>2.3.2</b> Handlers</a></li>
<li class="chapter" data-level="2.3.3" data-path="scraping.html"><a href="scraping.html#parallel-computing"><i class="fa fa-check"></i><b>2.3.3</b> Parallel Computing</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="scraping.html"><a href="scraping.html#challenges"><i class="fa fa-check"></i><b>2.4</b> Further Improvements</a></li>
<li class="chapter" data-level="2.5" data-path="scraping.html"><a href="scraping.html#legal-challenges-ancora-non-validato"><i class="fa fa-check"></i><b>2.5</b> Legal Challenges (ancora non validato)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Infrastructure.html"><a href="Infrastructure.html"><i class="fa fa-check"></i><b>3</b> Infrastructure</a><ul>
<li class="chapter" data-level="3.1" data-path="Infrastructure.html"><a href="Infrastructure.html#scheduler"><i class="fa fa-check"></i><b>3.1</b> Scheduler</a><ul>
<li class="chapter" data-level="3.1.1" data-path="Infrastructure.html"><a href="Infrastructure.html#cron-jobs"><i class="fa fa-check"></i><b>3.1.1</b> Cron Jobs</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Infrastructure.html"><a href="Infrastructure.html#docker"><i class="fa fa-check"></i><b>3.2</b> Docker</a><ul>
<li class="chapter" data-level="3.2.1" data-path="Infrastructure.html"><a href="Infrastructure.html#what-is-docker"><i class="fa fa-check"></i><b>3.2.1</b> What is Docker</a></li>
<li class="chapter" data-level="3.2.2" data-path="Infrastructure.html"><a href="Infrastructure.html#why-docker"><i class="fa fa-check"></i><b>3.2.2</b> Why Docker</a></li>
<li class="chapter" data-level="3.2.3" data-path="Infrastructure.html"><a href="Infrastructure.html#dockerfile"><i class="fa fa-check"></i><b>3.2.3</b> Dockerfile</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="Infrastructure.html"><a href="Infrastructure.html#rest-api"><i class="fa fa-check"></i><b>3.3</b> REST API</a><ul>
<li class="chapter" data-level="3.3.1" data-path="Infrastructure.html"><a href="Infrastructure.html#plumberapi"><i class="fa fa-check"></i><b>3.3.1</b> Plumber API</a></li>
<li class="chapter" data-level="3.3.2" data-path="Infrastructure.html"><a href="Infrastructure.html#immobiliare.it-rest-api"><i class="fa fa-check"></i><b>3.3.2</b> Immobiliare.it REST API</a></li>
<li class="chapter" data-level="3.3.3" data-path="Infrastructure.html"><a href="Infrastructure.html#rest-api-source-code"><i class="fa fa-check"></i><b>3.3.3</b> REST API source code</a></li>
<li class="chapter" data-level="3.3.4" data-path="Infrastructure.html"><a href="Infrastructure.html#rest-api-documentation"><i class="fa fa-check"></i><b>3.3.4</b> REST API documentation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="Infrastructure.html"><a href="Infrastructure.html#nginx"><i class="fa fa-check"></i><b>3.4</b> NGINX reverse proxy server</a></li>
<li class="chapter" data-level="3.5" data-path="Infrastructure.html"><a href="Infrastructure.html#aws"><i class="fa fa-check"></i><b>3.5</b> AWS EC2 server</a><ul>
<li class="chapter" data-level="3.5.1" data-path="Infrastructure.html"><a href="Infrastructure.html#launch-an-ec2-instance"><i class="fa fa-check"></i><b>3.5.1</b> Launch an EC2 instance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory.html"><a href="exploratory.html"><i class="fa fa-check"></i><b>4</b> Exploratory Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory.html"><a href="exploratory.html#data-preparation"><i class="fa fa-check"></i><b>4.1</b> Data preparation</a><ul>
<li class="chapter" data-level="4.1.1" data-path="exploratory.html"><a href="exploratory.html#na-removal-and-imputation"><i class="fa fa-check"></i><b>4.1.1</b> NA removal and imputation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exploratory.html"><a href="exploratory.html#spatial-autocorrelation-assessement"><i class="fa fa-check"></i><b>4.2</b> Spatial Autocorrelation assessement</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory.html"><a href="exploratory.html#model-specification"><i class="fa fa-check"></i><b>4.3</b> Model Specification</a></li>
<li class="chapter" data-level="4.4" data-path="exploratory.html"><a href="exploratory.html#mesh-building"><i class="fa fa-check"></i><b>4.4</b> Mesh building</a><ul>
<li class="chapter" data-level="4.4.1" data-path="exploratory.html"><a href="exploratory.html#building-spde-model-on-mesh"><i class="fa fa-check"></i><b>4.4.1</b> BUilding SPDE model on mesh</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exploratory.html"><a href="exploratory.html#prediction"><i class="fa fa-check"></i><b>4.5</b> Prediction</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="inla-spde.html"><a href="inla-spde.html"><i class="fa fa-check"></i><b>5</b> INLA computation</a><ul>
<li class="chapter" data-level="5.1" data-path="inla-spde.html"><a href="inla-spde.html#LGM"><i class="fa fa-check"></i><b>5.1</b> Latent Gaussian Models LGM</a></li>
<li class="chapter" data-level="5.2" data-path="inla-spde.html"><a href="inla-spde.html#approx"><i class="fa fa-check"></i><b>5.2</b> Approximation in INLA setting</a><ul>
<li class="chapter" data-level="5.2.1" data-path="inla-spde.html"><a href="inla-spde.html#further-approximations-prolly-do-not-note-include"><i class="fa fa-check"></i><b>5.2.1</b> further approximations (prolly do not note include)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="inla-spde.html"><a href="inla-spde.html#rinla"><i class="fa fa-check"></i><b>5.3</b> R-INLA package in a bayesian hierarchical regression perspective</a><ul>
<li class="chapter" data-level="5.3.1" data-path="inla-spde.html"><a href="inla-spde.html#overview"><i class="fa fa-check"></i><b>5.3.1</b> Overview</a></li>
<li class="chapter" data-level="5.3.2" data-path="inla-spde.html"><a href="inla-spde.html#example"><i class="fa fa-check"></i><b>5.3.2</b> Linear Predictor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="prdm.html"><a href="prdm.html"><i class="fa fa-check"></i><b>6</b> Point Referenced Data Modeling</a><ul>
<li class="chapter" data-level="6.1" data-path="prdm.html"><a href="prdm.html#GP"><i class="fa fa-check"></i><b>6.1</b> Gaussian Process (GP)</a></li>
<li class="chapter" data-level="6.2" data-path="prdm.html"><a href="prdm.html#spatial-covariance-function"><i class="fa fa-check"></i><b>6.2</b> Spatial Covariance Function</a><ul>
<li class="chapter" data-level="6.2.1" data-path="prdm.html"><a href="prdm.html#Matern"><i class="fa fa-check"></i><b>6.2.1</b> Matérn Covariance Function</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="prdm.html"><a href="prdm.html#hedonic-models-literature-review-and-spatial-hedonic-price-models"><i class="fa fa-check"></i><b>6.3</b> Hedonic models Literature Review and Spatial Hedonic Price Models</a></li>
<li class="chapter" data-level="6.4" data-path="prdm.html"><a href="prdm.html#univariateregr"><i class="fa fa-check"></i><b>6.4</b> Point Referenced Regression for univariate spatial data</a></li>
<li class="chapter" data-level="6.5" data-path="prdm.html"><a href="prdm.html#hiermod"><i class="fa fa-check"></i><b>6.5</b> Hierarchical Bayesian models</a></li>
<li class="chapter" data-level="6.6" data-path="prdm.html"><a href="prdm.html#finalregr"><i class="fa fa-check"></i><b>6.6</b> INLA model through spatial hierarchical regression</a></li>
<li class="chapter" data-level="6.7" data-path="prdm.html"><a href="prdm.html#spatial-kriging"><i class="fa fa-check"></i><b>6.7</b> Spatial Kriging</a></li>
<li class="chapter" data-level="6.8" data-path="prdm.html"><a href="prdm.html#model-checking-and-comparison"><i class="fa fa-check"></i><b>6.8</b> Model Checking and Comparison</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="spde.html"><a href="spde.html"><i class="fa fa-check"></i><b>7</b> SPDE approach</a><ul>
<li class="chapter" data-level="7.1" data-path="spde.html"><a href="spde.html#set-spde-problem"><i class="fa fa-check"></i><b>7.1</b> Set SPDE Problem</a></li>
<li class="chapter" data-level="7.2" data-path="spde.html"><a href="spde.html#spde-within-r-inla"><i class="fa fa-check"></i><b>7.2</b> SPDE within R-INLA</a></li>
<li class="chapter" data-level="7.3" data-path="spde.html"><a href="spde.html#first-point-krainsky-rubio-too-technical"><i class="fa fa-check"></i><b>7.3</b> First Point Krainsky Rubio TOO TECHNICAL</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="application.html"><a href="application.html"><i class="fa fa-check"></i><b>8</b> Shiny Web App</a><ul>
<li class="chapter" data-level="8.1" data-path="application.html"><a href="application.html#example-one"><i class="fa fa-check"></i><b>8.1</b> Example one</a></li>
<li class="chapter" data-level="8.2" data-path="application.html"><a href="application.html#example-two"><i class="fa fa-check"></i><b>8.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>9</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/NiccoloSalvini/tesi-prova" target="blank"> See Github Repository</a></li>
<li><a href="https://niccolosalvini.netlify.app/">About The Author</a></li>
<li><a Proudly published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">REST API for Real Estate rental data, a spatial bayesian modeling approach with INLA.</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploratory" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Exploratory Analysis</h1>
<p>Data comes packed into the REST API end point <code>*/complete</code> in .json format. Data can be filtered out On the basis of the options set in the API endpoint argument body. Some of the options might regard the <code>city</code> in which it is aevaluated the real estate market, <code>npages</code> as the number of pages to be scraped, <code>type</code> as the choice between rental of selling. For further documentation on how to structure the API endpoint query refer to section <a href="#APIdocs"><strong>??</strong></a>. Since to the analysis purposes data should come from the same source (e.g. Milan rental real estate within “circonvallazione”) a dedicated endpoint boolean option <code>.thesis</code> is passed in the argument body. What the API option under the hood is doing is specifying a structured and already filtered URL to be passed to the scraping endppoint. By securing the same URL to the scraping functions data is forced to come from the same URL source. The idea behind this concept can be thought as refreshing everyday the same immobiliare.it URL. API endpoint by default also specifies 10 pages to be scraped, in this case 120 is provided leading to to 3000 data points. The <code>*</code> refers to the EC2 public DNS that is <code>ec2-18-224-40-67.us-east-2.compute.amazonaws.com</code></p>
<p><code>http://*/complete/120/milano/affitto/.thesis=true</code></p>
<p>As a further source data can also be accessed through the mondgoDB credentials with the cloud ATLAS database by picking up the latest .csv file generated. For run time reasons also related to the bookdown files continuous building the API endpoint is called the day before the presentation so that the latest .csv file is available. As a consequence code chunks outputs are all cached due to heavy computation.</p>
<p>A preliminary exploratory analysis evidences 34 covariates and 250 rows. Immoboliare.it furnishes many information regarding property attributes and estate agency circumstances. Data displays many NA in some of the columns but georeference coordinates, due to the design of scraping functions, are in any case present.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="exploratory.html#cb1-1"></a><span class="kw">library</span>(readr)</span></code></pre></div>
<pre><code>## Warning: package &#39;readr&#39; was built under R version 4.0.3</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="exploratory.html#cb3-1"></a><span class="kw">library</span>(kableExtra)</span>
<span id="cb3-2"><a href="exploratory.html#cb3-2"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v dplyr   1.0.2
## v tibble  3.0.4     v stringr 1.4.0
## v tidyr   1.1.2     v forcats 0.5.0
## v purrr   0.3.4</code></pre>
<pre><code>## Warning: package &#39;tibble&#39; was built under R version 4.0.3</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter()     masks stats::filter()
## x dplyr::group_rows() masks kableExtra::group_rows()
## x dplyr::lag()        masks stats::lag()</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="exploratory.html#cb8-1"></a>data =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/data.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-2"><a href="exploratory.html#cb8-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>X1)</span></code></pre></div>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   .default = col_character(),
##   X1 = col_double(),
##   ID = col_double(),
##   LAT = col_double(),
##   LONG = col_double(),
##   CONDOM = col_double(),
##   BUILDAGE = col_double(),
##   PUB_DATE = col_date(format = &quot;&quot;),
##   PHOTOSNUM = col_double(),
##   LOWRDPRICE.passedDays = col_double(),
##   LOWRDPRICE.date = col_double(),
##   ENCLASS = col_logical(),
##   DISP = col_logical(),
##   HASMULTI = col_logical(),
##   PRICE = col_double(),
##   SQFEET = col_double(),
##   NROOM = col_double()
## )
## i Use `spec()` for the full column specifications.</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="exploratory.html#cb11-1"></a><span class="co">### fai la tabella delle colonne</span></span>
<span id="cb11-2"><a href="exploratory.html#cb11-2"></a><span class="co">### </span></span>
<span id="cb11-3"><a href="exploratory.html#cb11-3"></a>ref =<span class="kw">c</span>(</span>
<span id="cb11-4"><a href="exploratory.html#cb11-4"></a><span class="st">&quot;ID of the apartemente&quot;</span>,</span>
<span id="cb11-5"><a href="exploratory.html#cb11-5"></a><span class="st">&quot;latitude coordinate&quot;</span>,</span>
<span id="cb11-6"><a href="exploratory.html#cb11-6"></a><span class="st">&quot;longitude coordinate&quot;</span>,</span>
<span id="cb11-7"><a href="exploratory.html#cb11-7"></a><span class="st">&quot;the complete address: street name and number&quot;</span>,</span>
<span id="cb11-8"><a href="exploratory.html#cb11-8"></a><span class="st">&quot;the condominium monthly expenses&quot;</span>,</span>
<span id="cb11-9"><a href="exploratory.html#cb11-9"></a><span class="st">&quot;the age in which the building was contructed&quot;</span>,</span>
<span id="cb11-10"><a href="exploratory.html#cb11-10"></a><span class="st">&quot;the floor the apartement is&quot;</span>,</span>
<span id="cb11-11"><a href="exploratory.html#cb11-11"></a><span class="st">&quot;indipendent propeorty versus apartement&quot;</span>,</span>
<span id="cb11-12"><a href="exploratory.html#cb11-12"></a><span class="st">&quot;specification of the type and number of rooms&quot;</span>,</span>
<span id="cb11-13"><a href="exploratory.html#cb11-13"></a><span class="st">&quot;property type residential or not&quot;</span>,</span>
<span id="cb11-14"><a href="exploratory.html#cb11-14"></a><span class="st">&quot;the actual status of the house, ristrutturato, nuovo, abitabile&quot;</span>,</span>
<span id="cb11-15"><a href="exploratory.html#cb11-15"></a><span class="st">&quot;the heating system centralized or autonomous&quot;</span>,</span>
<span id="cb11-16"><a href="exploratory.html#cb11-16"></a><span class="st">&quot;air conditioning hot and cold&quot;</span>,</span>
<span id="cb11-17"><a href="exploratory.html#cb11-17"></a><span class="st">&quot;the date of publication of the advertisement&quot;</span>,</span>
<span id="cb11-18"><a href="exploratory.html#cb11-18"></a><span class="st">&quot;land registry infromation&quot;</span>,</span>
<span id="cb11-19"><a href="exploratory.html#cb11-19"></a><span class="st">&quot;apartement main characteristics&quot;</span>,</span>
<span id="cb11-20"><a href="exploratory.html#cb11-20"></a><span class="st">&quot;number of photos displayes&quot;</span>,</span>
<span id="cb11-21"><a href="exploratory.html#cb11-21"></a><span class="st">&quot;estate agency name&quot;</span>,</span>
<span id="cb11-22"><a href="exploratory.html#cb11-22"></a><span class="st">&quot;If the price is lowered it indicates the starting price&quot;</span>,</span>
<span id="cb11-23"><a href="exploratory.html#cb11-23"></a><span class="st">&quot;If the price is lowered it indicates the current price&quot;</span>,</span>
<span id="cb11-24"><a href="exploratory.html#cb11-24"></a><span class="st">&quot;If the price is lowered the days passed since the price has changed&quot;</span>,</span>
<span id="cb11-25"><a href="exploratory.html#cb11-25"></a><span class="st">&quot;If the price is lowered the date passed since the price has changed&quot;</span>,</span>
<span id="cb11-26"><a href="exploratory.html#cb11-26"></a><span class="st">&quot;the energy class communicated to the&quot;</span>,</span>
<span id="cb11-27"><a href="exploratory.html#cb11-27"></a><span class="st">&quot;the type of contract&quot;</span>,</span>
<span id="cb11-28"><a href="exploratory.html#cb11-28"></a><span class="st">&quot;if it is still avaiable or not&quot;</span>,</span>
<span id="cb11-29"><a href="exploratory.html#cb11-29"></a><span class="st">&quot;the total number of floors&quot;</span>,</span>
<span id="cb11-30"><a href="exploratory.html#cb11-30"></a><span class="st">&quot;number of parking box or garages avaibable in the property&quot;</span>,</span>
<span id="cb11-31"><a href="exploratory.html#cb11-31"></a><span class="st">&quot;estate agency review, long chr string&quot;</span>,</span>
<span id="cb11-32"><a href="exploratory.html#cb11-32"></a><span class="st">&quot;it if has multimedia option, such as 3D house vitualization home experience or videos&quot;</span>,</span>
<span id="cb11-33"><a href="exploratory.html#cb11-33"></a><span class="st">&quot;the monthly price &lt;- response&quot;</span>,</span>
<span id="cb11-34"><a href="exploratory.html#cb11-34"></a><span class="st">&quot;square meters footage&quot;</span>,</span>
<span id="cb11-35"><a href="exploratory.html#cb11-35"></a><span class="st">&quot;the number of rooms in the house, italian calculation&quot;</span>,</span>
<span id="cb11-36"><a href="exploratory.html#cb11-36"></a><span class="st">&quot;title of advertisement&quot;</span></span>
<span id="cb11-37"><a href="exploratory.html#cb11-37"></a>)</span>
<span id="cb11-38"><a href="exploratory.html#cb11-38"></a></span>
<span id="cb11-39"><a href="exploratory.html#cb11-39"></a>names =<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st">  </span>names</span>
<span id="cb11-40"><a href="exploratory.html#cb11-40"></a><span class="kw">tibble</span>(</span>
<span id="cb11-41"><a href="exploratory.html#cb11-41"></a>  <span class="dt">name =</span> names,</span>
<span id="cb11-42"><a href="exploratory.html#cb11-42"></a>  <span class="dt">ref  =</span> ref </span>
<span id="cb11-43"><a href="exploratory.html#cb11-43"></a>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-44"><a href="exploratory.html#cb11-44"></a><span class="st">  </span><span class="kw">kbl</span>() <span class="op">%&gt;%</span></span>
<span id="cb11-45"><a href="exploratory.html#cb11-45"></a><span class="st">  </span><span class="kw">kable_paper</span>(<span class="dt">full_width =</span> F)</span></code></pre></div>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
ref
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
ID of the apartemente
</td>
</tr>
<tr>
<td style="text-align:left;">
LAT
</td>
<td style="text-align:left;">
latitude coordinate
</td>
</tr>
<tr>
<td style="text-align:left;">
LONG
</td>
<td style="text-align:left;">
longitude coordinate
</td>
</tr>
<tr>
<td style="text-align:left;">
LOCATION
</td>
<td style="text-align:left;">
the complete address: street name and number
</td>
</tr>
<tr>
<td style="text-align:left;">
CONDOM
</td>
<td style="text-align:left;">
the condominium monthly expenses
</td>
</tr>
<tr>
<td style="text-align:left;">
BUILDAGE
</td>
<td style="text-align:left;">
the age in which the building was contructed
</td>
</tr>
<tr>
<td style="text-align:left;">
FLOOR
</td>
<td style="text-align:left;">
the floor the apartement is
</td>
</tr>
<tr>
<td style="text-align:left;">
INDIVSAPT
</td>
<td style="text-align:left;">
indipendent propeorty versus apartement
</td>
</tr>
<tr>
<td style="text-align:left;">
LOCALI
</td>
<td style="text-align:left;">
specification of the type and number of rooms
</td>
</tr>
<tr>
<td style="text-align:left;">
TPPROP
</td>
<td style="text-align:left;">
property type residential or not
</td>
</tr>
<tr>
<td style="text-align:left;">
STATUS
</td>
<td style="text-align:left;">
the actual status of the house, ristrutturato, nuovo, abitabile
</td>
</tr>
<tr>
<td style="text-align:left;">
HEATING
</td>
<td style="text-align:left;">
the heating system centralized or autonomous
</td>
</tr>
<tr>
<td style="text-align:left;">
AC
</td>
<td style="text-align:left;">
air conditioning hot and cold
</td>
</tr>
<tr>
<td style="text-align:left;">
PUB_DATE
</td>
<td style="text-align:left;">
the date of publication of the advertisement
</td>
</tr>
<tr>
<td style="text-align:left;">
CATASTINFO
</td>
<td style="text-align:left;">
land registry infromation
</td>
</tr>
<tr>
<td style="text-align:left;">
APTCHAR
</td>
<td style="text-align:left;">
apartement main characteristics
</td>
</tr>
<tr>
<td style="text-align:left;">
PHOTOSNUM
</td>
<td style="text-align:left;">
number of photos displayes
</td>
</tr>
<tr>
<td style="text-align:left;">
AGE
</td>
<td style="text-align:left;">
estate agency name
</td>
</tr>
<tr>
<td style="text-align:left;">
LOWRDPRICE.originalPrice
</td>
<td style="text-align:left;">
If the price is lowered it indicates the starting price
</td>
</tr>
<tr>
<td style="text-align:left;">
LOWRDPRICE.currentPrice
</td>
<td style="text-align:left;">
If the price is lowered it indicates the current price
</td>
</tr>
<tr>
<td style="text-align:left;">
LOWRDPRICE.passedDays
</td>
<td style="text-align:left;">
If the price is lowered the days passed since the price has changed
</td>
</tr>
<tr>
<td style="text-align:left;">
LOWRDPRICE.date
</td>
<td style="text-align:left;">
If the price is lowered the date passed since the price has changed
</td>
</tr>
<tr>
<td style="text-align:left;">
ENCLASS
</td>
<td style="text-align:left;">
the energy class communicated to the
</td>
</tr>
<tr>
<td style="text-align:left;">
CONTR
</td>
<td style="text-align:left;">
the type of contract
</td>
</tr>
<tr>
<td style="text-align:left;">
DISP
</td>
<td style="text-align:left;">
if it is still avaiable or not
</td>
</tr>
<tr>
<td style="text-align:left;">
TOTPIANI
</td>
<td style="text-align:left;">
the total number of floors
</td>
</tr>
<tr>
<td style="text-align:left;">
PAUTO
</td>
<td style="text-align:left;">
number of parking box or garages avaibable in the property
</td>
</tr>
<tr>
<td style="text-align:left;">
REVIEW
</td>
<td style="text-align:left;">
estate agency review, long chr string
</td>
</tr>
<tr>
<td style="text-align:left;">
HASMULTI
</td>
<td style="text-align:left;">
it if has multimedia option, such as 3D house vitualization home experience or videos
</td>
</tr>
<tr>
<td style="text-align:left;">
PRICE
</td>
<td style="text-align:left;">
the monthly price &lt;- response
</td>
</tr>
<tr>
<td style="text-align:left;">
SQFEET
</td>
<td style="text-align:left;">
square meters footage
</td>
</tr>
<tr>
<td style="text-align:left;">
NROOM
</td>
<td style="text-align:left;">
the number of rooms in the house, italian calculation
</td>
</tr>
<tr>
<td style="text-align:left;">
TITLE
</td>
<td style="text-align:left;">
title of advertisement
</td>
</tr>
</tbody>
</table>
<p>[immagine coi punti sulla mappa]</p>
<div id="data-preparation" class="section level2">
<h2><span class="header-section-number">4.1</span> Data preparation</h2>
<div id="na-removal-and-imputation" class="section level3">
<h3><span class="header-section-number">4.1.1</span> NA removal and imputation</h3>
<p>[NA presence]</p>
</div>
</div>
<div id="spatial-autocorrelation-assessement" class="section level2">
<h2><span class="header-section-number">4.2</span> Spatial Autocorrelation assessement</h2>
</div>
<div id="model-specification" class="section level2">
<h2><span class="header-section-number">4.3</span> Model Specification</h2>
</div>
<div id="mesh-building" class="section level2">
<h2><span class="header-section-number">4.4</span> Mesh building</h2>
<div id="building-spde-model-on-mesh" class="section level3">
<h3><span class="header-section-number">4.4.1</span> BUilding SPDE model on mesh</h3>
</div>
</div>
<div id="prediction" class="section level2">
<h2><span class="header-section-number">4.5</span> Prediction</h2>
<p>ID: <em>numeric</em> a primary key number from immobiliare to identify univocally the advertisement
LAT: <em>numeric</em> Exact latitude where the apartement is located (that compose the spatial covariate)
LONG: <em>numeric</em> Exact longitude where the apartement is located (that compose the spatial covariate)
CONDOM: <em>numeric</em> The condominium price which is an important component in the final cost structure
BUILDAGE: <em>numeric</em> the year in which the building has been built
FLOOR: <em>numeric</em> the floor at which is located the apartement/ house
INDISVAP: <em>categorical</em> If it the rental ad regards an indipendent structure or an apartement in a building
…</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Infrastructure.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="inla-spde.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/NiccoloSalvini/Thesis/edit/master/04-exploratory.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Niccolo_Salvini_Thesis.pdf", "Niccolo_Salvini_Thesis.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
